// handle different parts of the state shape